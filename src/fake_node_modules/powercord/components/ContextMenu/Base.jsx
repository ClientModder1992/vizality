const { React, getModule, getAllModules } = require('powercord/webpack');
const ItemGroup = require('./ItemGroup');

module.exports = class Base extends React.Component {
  constructor () {
    super();

    Base.SliderItem = require('./Slider');
    Base.SubmenuItem = require('./Submenu');
    Base.CheckboxItem = require('./Checkbox');
    Base.ButtonItem = require('./Button');

    this.classes = {
      ...(getAllModules([ 'app' ], false))[1],
      ...getModule([ 'itemToggle', 'checkbox' ], false)
    };
  }

  render () {
    if (this.props.separate) {
      return React.createElement(ItemGroup, { children: this.component });
    }

    return this.component;
  }

  filter (classes) {
    return classes.filter(Boolean).join(' ');
  }
};
